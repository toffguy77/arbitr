syntax = "proto3";
package control;

option go_package = ".;control";

service Control {
  rpc Start (StartRequest) returns (StartResponse);
  rpc Stop (StopRequest) returns (StopResponse);
  rpc Status (StatusRequest) returns (StatusResponse);
  rpc RiskLimitsUpdate (RiskLimitsUpdateRequest) returns (RiskLimitsUpdateResponse);
  rpc ComplianceRulesUpdate (ComplianceRulesUpdateRequest) returns (ComplianceRulesUpdateResponse);
}

message StartRequest {}
message StartResponse { bool ok = 1; string message = 2; }

message StopRequest {}
message StopResponse { bool ok = 1; string message = 2; }

message StatusRequest {}
message StatusResponse { string state = 1; string region = 2; }

message RiskLimitsUpdateRequest { double max_asset_pct = 1; double max_exchange_pct = 2; double max_notional_pct = 3; double daily_var99_pct = 4; }
message RiskLimitsUpdateResponse { bool ok = 1; }

message ComplianceRulesUpdateRequest { repeated string allow_exchanges = 1; repeated string deny_exchanges = 2; }
message ComplianceRulesUpdateResponse { bool ok = 1; int64 blocked_actions = 2; }
